<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>บทเรียนการอินทิเกรตเบื้องต้นและแบบฝึกหัด</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        h1, h2, h3 {
            color: #333;
        }
        .latex-formula {
            display: block;
            text-align: center;
            margin: 20px 0;
            font-size: 1.5em;
        }
        .question {
            background-color: #e9e9e9;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        .options-list {
            list-style-type: none;
            padding: 0;
        }
        .options-list li {
            margin-bottom: 10px;
        }
        .options-list label {
            cursor: pointer;
            display: block;
            padding: 8px;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .options-list label:hover {
            background-color: #f1f1f1;
        }
        .options-list input[type="radio"] {
            margin-right: 10px;
        }
        .check-button {
            padding: 10px 15px;
            background-color: #0d6efd;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        .check-button:hover {
            background-color: #0b5ed7;
        }
        .feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 4px;
            display: none; /* ซ่อนไว้ก่อน */
        }
        .correct {
            background-color: #d1e7dd;
            color: #0f5132;
            border: 1px solid #badbcc;
        }
        .incorrect {
            background-color: #f8d7da;
            color: #842029;
            border: 1px solid #f5c2c7;
        }
    </style>
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
            "HTML-CSS": { linebreaks: { automatic: true } },
            "SVG": { linebreaks: { automatic: true } }
        });
    </script>
</head>
<body>

<div class="container">
    <h1>บทเรียน: การอินทิเกรตเบื้องต้น</h1>
    <p>สวัสดีเพื่อน! วันนี้เราจะมาเรียนรู้เรื่องการอินทิเกรต (Integration) กันนะ มันอาจจะดูยาก แต่จริงๆ แล้วเป็นแนวคิดที่น่าสนใจมากๆ เลย</p>

    <h2>อินทิเกรตคืออะไร?</h2>
    <p>ถ้าพูดง่ายๆ <b>การอินทิเกรตคือกระบวนการตรงกันข้ามกับการหาอนุพันธ์ (Differentiation)</b> ถ้าอนุพันธ์เป็นการหาความชันของเส้นโค้งในแต่ละจุด การอินทิเกรตก็คือการหา <b>พื้นที่ใต้เส้นโค้ง</b> นั่นเอง</p>

    <h2>ประเภทของการอินทิเกรต</h2>
    <p>การอินทิเกรตแบ่งออกเป็น 2 ประเภทหลักๆ</p>
    <h3>1. การอินทิเกรตแบบไม่จำกัดเขต (Indefinite Integral)</h3>
    <p>เป็นการหาฟังก์ชันดั้งเดิม (antiderivative) ของฟังก์ชันที่เราต้องการอินทิเกรต ผลลัพธ์ที่ได้จะเป็นฟังก์ชันที่มีค่าคงที่ (Constant of Integration) หรือที่เราเรียกว่า "$C$" เพิ่มเข้ามาเสมอ</p>
    <p class="latex-formula">$$ \int f(x) \,dx = F(x) + C $$</p>

    <h3>2. การอินทิเกรตแบบจำกัดเขต (Definite Integral)</h3>
    <p>เป็นการหาค่าพื้นที่ที่แท้จริงใต้กราฟตั้งแต่จุดหนึ่งไปถึงอีกจุดหนึ่ง ผลลัพธ์ที่ได้จะเป็นตัวเลข ซึ่งเราจะใช้สัญลักษณ์ $a$ และ $b$ กำหนดขอบเขตของการอินทิเกรต</p>
    <p class="latex-formula">$$ \int_a^b f(x) \,dx = F(b) - F(a) $$</p>
</div>

<div class="container">
    <h2>แบบฝึกหัด: การอินทิเกรต (ชุดที่ 1)</h2>
    <p>ลองทำแบบฝึกหัดต่อไปนี้เพื่อทบทวนความเข้าใจ</p>

    <div class="question" id="q1">
        <h3>คำถามที่ 1</h3>
        <p>จงหาค่าของอินทิกรัลไม่จำกัดเขตต่อไปนี้: $$ \int (3x^2 + 4x - 5) \,dx $$</p>
        <ul class="options-list">
            <li>
                <input type="radio" id="q1_a" name="q1_option" value="a">
                <label for="q1_a">A. $x^3 + 2x^2 - 5x + C$</label>
            </li>
            <li>
                <input type="radio" id="q1_b" name="q1_option" value="b">
                <label for="q1_b">B. $3x^3 + 4x^2 - 5x + C$</label>
            </li>
            <li>
                <input type="radio" id="q1_c" name="q1_option" value="c">
                <label for="q1_c">C. $6x + 4$</label>
            </li>
            <li>
                <input type="radio" id="q1_d" name="q1_option" value="d">
                <label for="q1_d">D. $x^3 + 2x^2 - 5x$</label>
            </li>
        </ul>
        <button class="check-button" onclick="checkAnswer('q1')">ตรวจคำตอบ</button>
        <div class="feedback" id="feedback-q1"></div>
    </div>

    <div class="question" id="q2">
        <h3>คำถามที่ 2</h3>
        <p>จงหาค่าของอินทิกรัลจำกัดเขต: $$ \int_0^2 (2x + 1) \,dx $$</p>
        <ul class="options-list">
            <li>
                <input type="radio" id="q2_a" name="q2_option" value="a">
                <label for="q2_a">A. $5$</label>
            </li>
            <li>
                <input type="radio" id="q2_b" name="q2_option" value="b">
                <label for="q2_b">B. $6$</label>
            </li>
            <li>
                <input type="radio" id="q2_c" name="q2_option" value="c">
                <label for="q2_c">C. $3$</label>
            </li>
            <li>
                <input type="radio" id="q2_d" name="q2_option" value="d">
                <label for="q2_d">D. $4$</label>
            </li>
        </ul>
        <button class="check-button" onclick="checkAnswer('q2')">ตรวจคำตอบ</button>
        <div class="feedback" id="feedback-q2"></div>
    </div>
    
    <div class="question" id="q3">
        <h3>คำถามที่ 3</h3>
        <p>ถ้า $F'(x) = 4x^3$ และ $F(1) = 5$ จงหา $F(x)$</p>
        <ul class="options-list">
            <li>
                <input type="radio" id="q3_a" name="q3_option" value="a">
                <label for="q3_a">A. $x^4 + 4$</label>
            </li>
            <li>
                <input type="radio" id="q3_b" name="q3_option" value="b">
                <label for="q3_b">B. $x^4 + C$</label>
            </li>
            <li>
                <input type="radio" id="q3_c" name="q3_option" value="c">
                <label for="q3_c">C. $x^4$</label>
            </li>
            <li>
                <input type="radio" id="q3_d" name="q3_option" value="d">
                <label for="q3_d">D. $12x^2$</label>
            </li>
        </ul>
        <button class="check-button" onclick="checkAnswer('q3')">ตรวจคำตอบ</button>
        <div class="feedback" id="feedback-q3"></div>
    </div>

    <div class="question" id="q4">
        <h3>คำถามที่ 4</h3>
        <p>การอินทิเกรต $ \int \sin(x) \,dx $ ได้ผลลัพธ์ตรงกับข้อใด</p>
        <ul class="options-list">
            <li>
                <input type="radio" id="q4_a" name="q4_option" value="a">
                <label for="q4_a">A. $\cos(x) + C$</label>
            </li>
            <li>
                <input type="radio" id="q4_b" name="q4_option" value="b">
                <label for="q4_b">B. $-\cos(x) + C$</label>
            </li>
            <li>
                <input type="radio" id="q4_c" name="q4_option" value="c">
                <label for="q4_c">C. $-\sin(x) + C$</label>
            </li>
            <li>
                <input type="radio" id="q4_d" name="q4_option" value="d">
                <label for="q4_d">D. $\sin(x) + C$</label>
            </li>
        </ul>
        <button class="check-button" onclick="checkAnswer('q4')">ตรวจคำตอบ</button>
        <div class="feedback" id="feedback-q4"></div>
    </div>

    <div class="question" id="q5">
        <h3>คำถามที่ 5</h3>
        <p>จงหาค่าของ $ \int_1^e \frac{1}{x} \,dx $</p>
        <ul class="options-list">
            <li>
                <input type="radio" id="q5_a" name="q5_option" value="a">
                <label for="q5_a">A. $1$</label>
            </li>
            <li>
                <input type="radio" id="q5_b" name="q5_option" value="b">
                <label for="q5_b">B. $\ln(e)$</label>
            </li>
            <li>
                <input type="radio" id="q5_c" name="q5_option" value="c">
                <label for="q5_c">C. $0$</label>
            </li>
            <li>
                <input type="radio" id="q5_d" name="q5_option" value="d">
                <label for="q5_d">D. $-1$</label>
            </li>
        </ul>
        <button class="check-button" onclick="checkAnswer('q5')">ตรวจคำตอบ</button>
        <div class="feedback" id="feedback-q5"></div>
    </div>
</div>

<div class="container">
    <h2>แบบฝึกหัด: การอินทิเกรต (ชุดที่ 2)</h2>
    <p>มาลองฝึกฝนเพิ่มเติมกันอีก 5 ข้อครับ</p>

    <div class="question" id="q6">
        <h3>คำถามที่ 6</h3>
        <p>จงหาค่าของ $$ \int (e^x - 2\cos(x)) \,dx $$</p>
        <ul class="options-list">
            <li>
                <input type="radio" id="q6_a" name="q6_option" value="a">
                <label for="q6_a">A. $e^x - 2\sin(x) + C$</label>
            </li>
            <li>
                <input type="radio" id="q6_b" name="q6_option" value="b">
                <label for="q6_b">B. $e^x + 2\sin(x) + C$</label>
            </li>
            <li>
                <input type="radio" id="q6_c" name="q6_option" value="c">
                <label for="q6_c">C. $e^x - 2\cos(x) + C$</label>
            </li>
            <li>
                <input type="radio" id="q6_d" name="q6_option" value="d">
                <label for="q6_d">D. $e^x + 2\cos(x) + C$</label>
            </li>
        </ul>
        <button class="check-button" onclick="checkAnswer('q6')">ตรวจคำตอบ</button>
        <div class="feedback" id="feedback-q6"></div>
    </div>

    <div class="question" id="q7">
        <h3>คำถามที่ 7</h3>
        <p>จงหาค่าของ $$ \int_0^1 (x^3 + x^2) \,dx $$</p>
        <ul class="options-list">
            <li>
                <input type="radio" id="q7_a" name="q7_option" value="a">
                <label for="q7_a">A. $\frac{1}{4}$</label>
            </li>
            <li>
                <input type="radio" id="q7_b" name="q7_option" value="b">
                <label for="q7_b">B. $\frac{1}{3}$</label>
            </li>
            <li>
                <input type="radio" id="q7_c" name="q7_option" value="c">
                <label for="q7_c">C. $\frac{7}{12}$</label>
            </li>
            <li>
                <input type="radio" id="q7_d" name="q7_option" value="d">
                <label for="q7_d">D. $\frac{1}{12}$</label>
            </li>
        </ul>
        <button class="check-button" onclick="checkAnswer('q7')">ตรวจคำตอบ</button>
        <div class="feedback" id="feedback-q7"></div>
    </div>

    <div class="question" id="q8">
        <h3>คำถามที่ 8</h3>
        <p>จงหาค่าของ $$ \int (4\sec^2(x)) \,dx $$</p>
        <ul class="options-list">
            <li>
                <input type="radio" id="q8_a" name="q8_option" value="a">
                <label for="q8_a">A. $-4\cot(x) + C$</label>
            </li>
            <li>
                <input type="radio" id="q8_b" name="q8_option" value="b">
                <label for="q8_b">B. $\frac{4}{3}\sec^3(x) + C$</label>
            </li>
            <li>
                <input type="radio" id="q8_c" name="q8_option" value="c">
                <label for="q8_c">C. $4\cos(x) + C$</label>
            </li>
            <li>
                <input type="radio" id="q8_d" name="q8_option" value="d">
                <label for="q8_d">D. $4\tan(x) + C$</label>
            </li>
        </ul>
        <button class="check-button" onclick="checkAnswer('q8')">ตรวจคำตอบ</button>
        <div class="feedback" id="feedback-q8"></div>
    </div>

    <div class="question" id="q9">
        <h3>คำถามที่ 9</h3>
        <p>จงหาค่าของอินทิกรัลจำกัดเขต: $$ \int_{-1}^1 (2x + 3) \,dx $$</p>
        <ul class="options-list">
            <li>
                <input type="radio" id="q9_a" name="q9_option" value="a">
                <label for="q9_a">A. $2$</label>
            </li>
            <li>
                <input type="radio" id="q9_b" name="q9_option" value="b">
                <label for="q9_b">B. $0$</label>
            </li>
            <li>
                <input type="radio" id="q9_c" name="q9_option" value="c">
                <label for="q9_c">C. $6$</label>
            </li>
            <li>
                <input type="radio" id="q9_d" name="q9_option" value="d">
                <label for="q9_d">D. $4$</label>
            </li>
        </ul>
        <button class="check-button" onclick="checkAnswer('q9')">ตรวจคำตอบ</button>
        <div class="feedback" id="feedback-q9"></div>
    </div>

    <div class="question" id="q10">
        <h3>คำถามที่ 10</h3>
        <p>ถ้า $f(x) = 3$ แล้วอินทิกรัลของ $f(x)$ คือข้อใด</p>
        <ul class="options-list">
            <li>
                <input type="radio" id="q10_a" name="q10_option" value="a">
                <label for="q10_a">A. $3$</label>
            </li>
            <li>
                <input type="radio" id="q10_b" name="q10_option" value="b">
                <label for="q10_b">B. $3x + C$</label>
            </li>
            <li>
                <input type="radio" id="q10_c" name="q10_option" value="c">
                <label for="q10_c">C. $0$</label>
            </li>
            <li>
                <input type="radio" id="q10_d" name="q10_option" value="d">
                <label for="q10_d">D. $3x^2 + C$</label>
            </li>
        </ul>
        <button class="check-button" onclick="checkAnswer('q10')">ตรวจคำตอบ</button>
        <div class="feedback" id="feedback-q10"></div>
    </div>
</div>

<script>
    // ข้อมูลคำตอบที่ถูกต้องและเหตุผลสำหรับทุกคำถาม
    const originalAnswers = {
        'q1': {
            correct: 'a',
            rationale: '<b>เหตุผล:</b> ใช้กฎการอินทิเกรตพหุนาม: $\\int x^n \\,dx = \\frac{x^{n+1}}{n+1} + C$'
        },
        'q2': {
            correct: 'b',
            rationale: '<b>เหตุผล:</b> อินทิเกรตได้ $x^2+x$ แล้วแทนค่า: $(2^2+2) - (0^2+0) = 6$'
        },
        'q3': {
            correct: 'a',
            rationale: '<b>เหตุผล:</b> อินทิเกรต $4x^3$ ได้ $x^4+C$ ใช้ $F(1)=5$ จะได้ $1^4+C=5$ ดังนั้น $C=4$'
        },
        'q4': {
            correct: 'b',
            rationale: '<b>เหตุผล:</b> อนุพันธ์ของ $-\\cos(x)$ คือ $\\sin(x)$'
        },
        'q5': {
            correct: 'a',
            rationale: '<b>เหตุผล:</b> อินทิกรัลของ $1/x$ คือ $\\ln|x|$ แล้วแทนค่าขอบเขต $\\ln(e) - \\ln(1) = 1-0=1$'
        },
        'q6': {
            correct: 'a',
            rationale: '<b>เหตุผล:</b> อินทิเกรต $e^x$ ได้ $e^x$ และอินทิเกรต $2\\cos(x)$ ได้ $2\\sin(x)$'
        },
        'q7': {
            correct: 'c',
            rationale: '<b>เหตุผล:</b> อินทิเกรตได้ $\\frac{x^4}{4} + \\frac{x^3}{3}$ แล้วแทนค่าขอบเขต: $(\\frac{1^4}{4} + \\frac{1^3}{3}) - (0) = \\frac{1}{4} + \\frac{1}{3} = \\frac{3+4}{12} = \\frac{7}{12}$'
        },
        'q8': {
            correct: 'd',
            rationale: '<b>เหตุผล:</b> อนุพันธ์ของ $\\tan(x)$ คือ $\\sec^2(x)$ ดังนั้นอินทิกรัลของ $4\\sec^2(x)$ คือ $4\\tan(x)$'
        },
        'q9': {
            correct: 'c',
            rationale: '<b>เหตุผล:</b> อินทิเกรตได้ $x^2+3x$ แล้วแทนค่าขอบเขต: $(1^2+3(1)) - ((-1)^2+3(-1)) = (1+3) - (1-3) = 4 - (-2) = 6$'
        },
        'q10': {
            correct: 'b',
            rationale: '<b>เหตุผล:</b> การอินทิเกรตค่าคงที่ $k$ คือ $kx+C$'
        }
    };
    
    // ทำการสับเปลี่ยนตัวเลือกและอัปเดตคำตอบที่ถูกต้อง
    const correctOptions = {};
    const questionContainers = document.querySelectorAll('.question');
    questionContainers.forEach(container => {
        const questionId = container.id;
        const optionsList = container.querySelector('.options-list');
        const options = Array.from(optionsList.children);
        
        // สร้างลำดับใหม่แบบสุ่ม
        const shuffledOptions = shuffleArray(options);

        // หาตัวเลือกที่ถูกต้องเดิม
        const originalCorrectOption = originalAnswers[questionId].correct;
        let newCorrectLabel = '';

        // แทนที่ตัวอักษร ก ข ค ง เป็น A B C D
        shuffledOptions.forEach((li, index) => {
            const newLabel = String.fromCharCode(65 + index); // 65 คือรหัส ASCII ของ 'A'
            const labelElement = li.querySelector('label');
            const originalLabelText = labelElement.textContent.trim().substring(2);
            labelElement.innerHTML = `${newLabel}. ${originalLabelText}`;
            
            const radioInput = li.querySelector('input[type="radio"]');
            radioInput.id = `${questionId}_${newLabel.toLowerCase()}`;
            radioInput.value = newLabel.toLowerCase();

            // ตรวจสอบว่าตัวเลือกนี้คือคำตอบที่ถูกต้องหรือไม่
            if (options[index].querySelector('input').value === originalCorrectOption) {
                correctOptions[questionId] = newLabel.toLowerCase();
            }
        });

        // ล้างรายการเดิม
        optionsList.innerHTML = '';
        // เพิ่มรายการที่สับเปลี่ยนแล้วเข้าไป
        shuffledOptions.forEach(li => optionsList.appendChild(li));
    });

    // อัปเดตฟังก์ชัน checkAnswer ให้ใช้คำตอบที่สับเปลี่ยนแล้ว
    function checkAnswer(questionId) {
        const selectedOption = document.querySelector(`input[name="${questionId}_option"]:checked`);
        const feedbackDiv = document.getElementById(`feedback-${questionId}`);
        const correctAnswer = correctOptions[questionId];
        const rationale = originalAnswers[questionId].rationale;

        if (!selectedOption) {
            feedbackDiv.style.display = 'block';
            feedbackDiv.className = 'feedback incorrect';
            feedbackDiv.innerHTML = 'กรุณาเลือกคำตอบก่อนครับ';
            return;
        }

        const selectedValue = selectedOption.value;

        if (selectedValue === correctAnswer) {
            feedbackDiv.style.display = 'block';
            feedbackDiv.className = 'feedback correct';
            feedbackDiv.innerHTML = '<b>ถูกต้องครับ!</b> ' + rationale;
        } else {
            feedbackDiv.style.display = 'block';
            feedbackDiv.className = 'feedback incorrect';
            feedbackDiv.innerHTML = '<b>ยังไม่ถูกต้องครับ ลองดูเหตุผลที่ถูกต้องด้านล่าง:</b><br>' + rationale;
        }

        // ทำให้ MathJax แสดงผลสูตรใหม่ใน feedback div
        MathJax.Hub.Queue(["Typeset", MathJax.Hub, feedbackDiv]);
    }

    // ฟังก์ชันสำหรับสับเปลี่ยน array
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }
</script>

</body>
</html>
