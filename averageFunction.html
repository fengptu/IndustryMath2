<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ที่มาของสูตรค่าเฉลี่ยของฟังก์ชัน (Average Value of a Function)</title>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            }
        };
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 2em;
        }
        h1, h2 {
            color: #2c3e50;
        }
        p, li {
            text-align: justify;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 5px;
            border-radius: 4px;
        }
        .math {
            display: block;
            text-align: center;
            margin: 1em 0;
            font-size: 1.2em;
        }
    </style>
</head>
<body>

    <h1>สูตรค่าเฉลี่ยของฟังก์ชัน (Average Value of a Function)</h1>

    <p>
        สูตรค่าเฉลี่ยของฟังก์ชัน (Average Value of a Function) $f_{avg} = \frac{1}{b-a}\int_{a}^{b}f(x)dx$ มีที่มาจากแนวคิดเดียวกับการหาค่าเฉลี่ยเลขคณิตธรรมดาแต่ขยายให้ใช้กับฟังก์ชันต่อเนื่องได้
    </p>

    <h2>แนวคิดเบื้องต้น</h2>
    <p>
        การหาค่าเฉลี่ยของชุดข้อมูลตัวเลข เช่น $\{y_1, y_2, ..., y_n\}$ เราจะใช้สูตร
    </p>
    <div class="math">
        $$Average = \frac{y_1 + y_2 + ... + y_n}{n}$$
    </div>
    <p>
        โดย $n$ คือจำนวนข้อมูลทั้งหมด เมื่อนำแนวคิดนี้มาใช้กับฟังก์ชันต่อเนื่อง $f(x)$ บนช่วง $[a,b]$ จะเกิดปัญหาเพราะฟังก์ชันมีค่ามากมายนับไม่ถ้วนตลอดช่วง การจะบวกค่าทั้งหมดเข้าด้วยกันจึงเป็นไปไม่ได้ ดังนั้นเราจึงต้องใช้ <strong>การอินทิเกรต</strong> ซึ่งเปรียบเสมือนการ "บวก" ค่าของฟังก์ชันตลอดช่วงต่อเนื่อง
    </p>

    <h2>ที่มาของสูตร</h2>
    <p>
        เพื่อทำความเข้าใจที่มาของสูตร ลองจินตนาการตามขั้นตอนดังนี้:
    </p>
    <ol>
        <li>
            <strong>แบ่งช่วง:</strong> แบ่งช่วง $[a,b]$ ออกเป็น $n$ ส่วนย่อยเท่าๆ กัน โดยแต่ละส่วนมีความกว้าง $\Delta x = \frac{b-a}{n}$
        </li>
        <li>
            <strong>สุ่มตัวอย่าง:</strong> เลือกจุดตัวอย่าง $x_i^*$ หนึ่งจุดในแต่ละส่วนย่อย (เช่น จุดกึ่งกลางหรือจุดปลาย) แล้วหาค่าของฟังก์ชันที่จุดนั้น ซึ่งคือ $f(x_i^*)$
        </li>
        <li>
            <strong>หาค่าเฉลี่ยโดยประมาณ:</strong> ค่าเฉลี่ยของฟังก์ชันโดยประมาณ (ซึ่งได้จากการสุ่มตัวอย่าง) คือ
            <div class="math">
                $$Average \approx \frac{f(x_1^*) + f(x_2^*) + ... + f(x_n^*)}{n}$$
            </div>
        </li>
        <li>
            <strong>ปรับรูปสมการ:</strong> เราสามารถจัดรูปสมการใหม่ได้โดยนำ $\Delta x$ มาเกี่ยวข้อง เพราะเราทราบว่า $n = \frac{b-a}{\Delta x}$
            <div class="math">
                $$Average \approx \frac{f(x_1^*) + f(x_2^*) + ... + f(x_n^*)}{n}$$
            </div>
            <div class="math">
                $$Average \approx \frac{f(x_1^*) + f(x_2^*) + ... + f(x_n^*)}{\frac{b-a}{\Delta x}}$$
            </div>
            <div class="math">
                $$Average \approx \frac{1}{b-a} \sum_{i=1}^{n} f(x_i^*) \Delta x$$
            </div>
        </li>
    </ol>

    <h2>สรุป</h2>
    <p>
        ในสมการสุดท้าย $\sum_{i=1}^{n} f(x_i^*) \Delta x$ คือ <strong>ผลบวกรีมันน์ (Riemann Sum)</strong> ซึ่งเป็นการประมาณค่าของพื้นที่ใต้กราฟ (หรือการอินทิเกรต) ยิ่งเราแบ่งช่วงย่อยมากขึ้น (คือ $n \to \infty$ และ $\Delta x \to 0$) ค่าประมาณนี้ก็จะยิ่งเข้าใกล้ค่าจริงของการอินทิเกรต
    </p>
    <p>
        เมื่อเราให้ $n$ เข้าสู่ค่าอนันต์ ($n \to \infty$) ผลรวมรีมันน์ก็จะกลายเป็นการอินทิเกรต
    </p>
    <div class="math">
        $$\lim_{n\to\infty} \sum_{i=1}^{n} f(x_i^*) \Delta x = \int_{a}^{b}f(x)dx$$
    </div>
    <p>
        เมื่อนำมาแทนที่ในสมการค่าเฉลี่ย เราจะได้สูตรที่สมบูรณ์:
    </p>
    <div class="math">
        $$f_{avg} = \frac{1}{b-a}\int_{a}^{b}f(x)dx$$
    </div>
    <p>
        กล่าวโดยสรุป การอินทิเกรต $\int_{a}^{b}f(x)dx$ คือ "ผลรวม" ของค่าฟังก์ชันทั้งหมดตั้งแต่ $x=a$ ถึง $x=b$ และเราหารด้วยความยาวของช่วง $(b-a)$ เพื่อหา <strong>ค่าเฉลี่ย</strong> ที่แท้จริงของฟังก์ชันบนช่วงนั้นๆ
    </p>

</body>
</html>
